{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/TypeScript - ES6 ä¸­çš„ Class ç»§æ‰¿/","result":{"data":{"site":{"siteMetadata":{"title":"shanejix","description":"learner && coder"}},"allMarkdownRemark":{"edges":[{"node":{"id":"9dd4013c-c308-552c-bd2c-04f0cd996599","timeToRead":5}},{"node":{"id":"d29bf37d-75f0-501e-92b1-42c06cdbcd7b","timeToRead":3}},{"node":{"id":"89619e78-eeef-5342-b7fe-7626ee925f57","timeToRead":9}},{"node":{"id":"cb3a4052-202e-5a46-bf15-4e9b30e34ebf","timeToRead":3}},{"node":{"id":"45c6b07a-fc6a-5800-9907-86a94c1f4ace","timeToRead":2}},{"node":{"id":"db38bc53-9935-56f0-a9e2-0be373990d78","timeToRead":3}},{"node":{"id":"1dcfd849-d044-5c73-b31a-5fd30393f430","timeToRead":14}},{"node":{"id":"7b38ed3c-4032-581a-aab4-bda6dcb8fa78","timeToRead":15}},{"node":{"id":"d15e9143-f799-527d-b71d-2b8fc195817c","timeToRead":12}},{"node":{"id":"ba521381-a518-5686-a682-0ada55a7dd73","timeToRead":4}},{"node":{"id":"ba58ecad-907f-5ad2-bc26-9167d7607dcc","timeToRead":12}},{"node":{"id":"08b71346-abf3-5649-84f5-2f8ae4f48c6a","timeToRead":3}},{"node":{"id":"da55e002-3a8a-5af2-929e-4de7e3a8d314","timeToRead":4}},{"node":{"id":"4e56b6de-c0ca-572e-9f9d-e769592aa49b","timeToRead":2}},{"node":{"id":"af002700-632d-547f-82b9-f31919d4f03e","timeToRead":1}},{"node":{"id":"7b6d671f-8de2-5511-91e9-0797db813dc7","timeToRead":1}},{"node":{"id":"ad4fad45-b734-560c-8324-a9708e1e04c4","timeToRead":1}},{"node":{"id":"ef84ef13-dac8-5cfa-ac69-d0ea44f677f1","timeToRead":2}},{"node":{"id":"69026b7f-ca1c-5eea-8f61-76972396800c","timeToRead":2}},{"node":{"id":"52b13183-db66-5637-bc21-c828b8dabddd","timeToRead":8}},{"node":{"id":"14bde951-d8e7-5045-84f7-dd9479cfafc3","timeToRead":35}},{"node":{"id":"aa4d72c6-d675-52e4-a55b-b07237ed0e1a","timeToRead":2}},{"node":{"id":"eb631c0f-69a5-5ca8-b3c7-1baaed014eea","timeToRead":1}},{"node":{"id":"684d2035-e385-577d-bb53-f7bfca2caa0d","timeToRead":18}},{"node":{"id":"a40d34f8-b202-5f5b-8c33-19c7c163bbce","timeToRead":5}},{"node":{"id":"afc44728-7e4f-5ce3-bf62-373400a8a46a","timeToRead":12}},{"node":{"id":"ca3cc4cf-0ddf-5fb3-a58d-2354b2f0a10e","timeToRead":5}},{"node":{"id":"fe7fd5be-04af-5d1a-b969-f8f4de7db655","timeToRead":1}},{"node":{"id":"fb3bc99d-cf2f-5fbd-981d-1d701815f87b","timeToRead":66}},{"node":{"id":"4de1fb79-73c7-5593-adc3-427351c465e9","timeToRead":101}},{"node":{"id":"9a102758-e412-5f31-8753-54534e8fdb15","timeToRead":1}},{"node":{"id":"a07217e5-4cbe-54e4-9566-2a0df732a1a4","timeToRead":1}},{"node":{"id":"c8a73065-3214-5616-93f3-0df2a119e91d","timeToRead":1}}]},"markdownRemark":{"id":"d15e9143-f799-527d-b71d-2b8fc195817c","excerpt":"åŒæ­¥é“¾æ¥: https://www.shanejix.com/posts/TypeScript - ES6 ä¸­çš„ Class ç»§æ‰¿/ typescript ä¸­çš„ class ç»§æ‰¿æ˜¯åŸºäº ES6 ä¸­ class çš„æ‰©å±•ã€‚å› æ­¤å¯ä»¥ç±»æ¯” vanillajs ä¸­åŸºäºåŸå‹çš„ç»§æ‰¿å’Œ ES6 ä¸­çš„ class ç»§æ‰¿çš„å˜åŒ–ã€‚å…¶å®ï¼ŒESâ€¦","html":"<blockquote>\n<p>åŒæ­¥é“¾æ¥: <a href=\"https://www.shanejix.com/posts/TypeScript%20-%20ES6%20%E4%B8%AD%E7%9A%84%20Class%20%E7%BB%A7%E6%89%BF/\">https://www.shanejix.com/posts/TypeScript - ES6 ä¸­çš„ Class ç»§æ‰¿/</a></p>\n</blockquote>\n<p>typescript ä¸­çš„ class ç»§æ‰¿æ˜¯åŸºäº ES6 ä¸­ class çš„æ‰©å±•ã€‚å› æ­¤å¯ä»¥ç±»æ¯” vanillajs ä¸­åŸºäºåŸå‹çš„ç»§æ‰¿å’Œ ES6 ä¸­çš„ class ç»§æ‰¿çš„å˜åŒ–ã€‚å…¶å®ï¼ŒES6 ä¸­çš„ class ç»§æ‰¿å…¶å®å°±æ˜¯ vanillajs çš„è¯­æ³•ç³–ï¼Œä½†åˆä¸ä»…ä»…æ˜¯è¯­æ³•ç³–ã€‚</p>\n<h2>Class åŸºæœ¬è¯­æ³•</h2>\n<p>åŸºæœ¬çš„ç±»è¯­æ³•çœ‹èµ·æ¥åƒè¿™æ ·:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// å±æ€§ï¼› class å­—æ®µ prop ä¼šåœ¨åœ¨æ¯ä¸ªç‹¬ç«‹å¯¹è±¡ä¸­è¢«è®¾å¥½ï¼Œè€Œä¸æ˜¯è®¾åœ¨ Myclass.prototype</span>\n  prop <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// å±æ€§ï¼› class å­—æ®µ prop æ›´ä¼˜é›…çš„ç»‘å®šæ–¹æ³•</span>\n  <span class=\"token function-variable function\">prop</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// æ„é€ å™¨</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// method</span>\n  <span class=\"token function\">method</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// getter æ–¹æ³•</span>\n  <span class=\"token keyword\">get</span> <span class=\"token function\">something</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// setter æ–¹æ³•</span>\n  <span class=\"token keyword\">set</span> <span class=\"token function\">something</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// æœ‰è®¡ç®—åç§°ï¼ˆcomputed nameï¼‰çš„æ–¹æ³•ï¼ˆæ­¤å¤„ä¸º symbolï¼‰</span>\n  <span class=\"token punctuation\">[</span>Symbol<span class=\"token punctuation\">.</span>iterator<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>éœ€è¦æ³¨æ„ï¼š</p>\n<ul>\n<li><code class=\"language-text\">MyClass</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆæä¾›ä½œä¸º <code class=\"language-text\">constructor</code> çš„é‚£ä¸ªï¼‰</li>\n<li>**<code class=\"language-text\">methods</code>ã€<code class=\"language-text\">getters</code> å’Œ <code class=\"language-text\">settors</code> éƒ½è¢«å†™å…¥äº† MyClass.prototype **</li>\n<li><code class=\"language-text\">prop</code> æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä»½</li>\n</ul>\n<p><strong>ES6 class ä¸­æ²¡æœ‰ç›´æ¥å®šä¹‰åˆ° prototype ä¸Šçš„å±æ€§çš„å®ç°ï¼Œå¯ä»¥å€ŸåŠ© getter å’Œ setter æ¨¡æ‹Ÿå…±äº«å±æ€§</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// ES6ä¸­</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyClass</span> <span class=\"token punctuation\">{</span>\n  \t_name <span class=\"token operator\">=</span> <span class=\"token string\">'shanejix'</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_name<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">set</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> newName<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// ** getter å’Œ setter ä¼šè¢«å†™åˆ° MyClass.prototypeä¸Š **</span>\n\n\n<span class=\"token comment\">// ES5ä¸­å¯¹åº”å®ç°</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">MyClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_name <span class=\"token operator\">=</span> <span class=\"token string\">'shanejix'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">MyClass</span><span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span>  <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">get</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_name<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">set</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> newName<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Class ç»§æ‰¿</h2>\n<h3>æ‰©å±•ä¸€ä¸ªç±»ï¼š<code class=\"language-text\">class Child extends Parent</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* åœ¨å†…éƒ¨ï¼Œå…³é”®å­— extends ä½¿ç”¨äº†å¾ˆå¥½çš„æ—§çš„åŸå‹æœºåˆ¶è¿›è¡Œå·¥ä½œ\n\n- å®ƒå°† Child.prototype.[[Prototype]] è®¾ç½®ä¸º Parent.prototype</code></pre></div>\n<p>åœ¨ extends åå…è®¸ä»»æ„è¡¨è¾¾å¼:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">f</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">phrase</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>phrase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">f</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sayHi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Hello</span>\n\n<span class=\"token comment\">// è¿™å¯¹äºé«˜çº§ç¼–ç¨‹æ¨¡å¼ï¼Œä¾‹å¦‚å½“æ ¹æ®è®¸å¤šæ¡ä»¶ä½¿ç”¨å‡½æ•°ç”Ÿæˆç±»ï¼Œå¹¶ç»§æ‰¿å®ƒä»¬æ—¶æ¥è¯´å¯èƒ½å¾ˆæœ‰ç”¨</span></code></pre></div>\n<blockquote>\n<p>æœ‰æ—¶ä¸å¸Œæœ›å®Œå…¨æ›¿æ¢çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œæ˜¯å¸Œæœ›åœ¨çˆ¶ç±»æ–¹æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œè°ƒæ•´æˆ–æ‰©å±•å…¶åŠŸèƒ½</p>\n</blockquote>\n<h3>é‡å†™ä¸€ä¸ªæ–¹æ³•</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æœªåœ¨ class child ä¸­æŒ‡å®šçš„æ–¹æ³•å‡ä» class Parent ä¸­ç›´æ¥è·å–</code></pre></div>\n<p>Class ä¸ºæ­¤æä¾›äº† â€œsuperâ€ å…³é”®å­—:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- æ‰§è¡Œ super.method(...) æ¥è°ƒç”¨ä¸€ä¸ªçˆ¶ç±»æ–¹æ³•\n\n- æ‰§è¡Œ super(...) æ¥è°ƒç”¨ä¸€ä¸ªçˆ¶ç±» constructorï¼ˆåªèƒ½åœ¨å­ç±»çš„ constructor ä¸­ï¼‰</code></pre></div>\n<blockquote>\n<p>è¡¥å……ï¼šç®­å¤´å‡½æ•°æ²¡æœ‰ super å’Œ this</p>\n</blockquote>\n<h3>é‡å†™ä¸€ä¸ª constructor</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// æ ¹æ® è§„èŒƒï¼Œå¦‚æœä¸€ä¸ªç±»æ‰©å±•äº†å¦ä¸€ä¸ªç±»å¹¶ä¸”æ²¡æœ‰ constructorï¼Œé‚£ä¹ˆå°†ç”Ÿæˆä¸‹é¢è¿™æ ·çš„ constructorï¼š</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Child</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Parent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ä¸ºæ²¡æœ‰è‡ªå·±çš„ constructor çš„æ‰©å±•ç±»ç”Ÿæˆçš„</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>â€ç»§æ‰¿ç±»çš„ constructor å¿…é¡»è°ƒç”¨ super(â€¦)ï¼Œå¹¶ä¸”ä¸€å®šè¦åœ¨ä½¿ç”¨ this ä¹‹å‰è°ƒç”¨â€</strong></p>\n<p>ğŸ’¡ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* åœ¨ JavaScript ä¸­ï¼Œã€ç»§æ‰¿ç±»çš„æ„é€ å‡½æ•°ã€‘ï¼ˆæ‰€è°“çš„â€œæ´¾ç”Ÿæ„é€ å™¨â€ï¼Œè‹±æ–‡ä¸º â€œderived constructorâ€ï¼‰ä¸å…¶ä»–å‡½æ•°ä¹‹é—´æ˜¯æœ‰åŒºåˆ«çš„\n\n- æ´¾ç”Ÿæ„é€ å™¨å…·æœ‰ç‰¹æ®Šçš„å†…éƒ¨å±æ€§ [[ConstructorKind]]:\"derived\"ï¼› // è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å†…éƒ¨æ ‡ç­¾\n\n\nè¯¥æ ‡ç­¾ä¼šã€å½±å“å®ƒçš„ new è¡Œä¸ºã€‘ï¼š\n\n  - å½“é€šè¿‡ new æ‰§è¡Œä¸€ä¸ªå¸¸è§„å‡½æ•°æ—¶ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªç©ºå¯¹è±¡èµ‹å€¼ç»™ this ;\n\n  - ä½†æ˜¯,å½“ç»§æ‰¿çš„ constructor æ‰§è¡Œæ—¶ï¼Œå®ƒä¸ä¼šæ‰§è¡Œæ­¤æ“ä½œï¼›\n\n  - å®ƒæœŸæœ›çˆ¶ç±»çš„ constructor æ¥å®Œæˆè¿™é¡¹å·¥ä½œ;\n\n\n* å› æ­¤ï¼Œæ´¾ç”Ÿçš„ constructor å¿…é¡»è°ƒç”¨ super æ‰èƒ½æ‰§è¡Œå…¶çˆ¶ç±»ï¼ˆbaseï¼‰çš„ constructorï¼Œå¦åˆ™ this æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡å°†ä¸ä¼šè¢«åˆ›å»º</code></pre></div>\n<h3>é‡å†™ç±»å­—æ®µ</h3>\n<p>ğŸ˜¨ ä¸€ä¸ªæ£˜æ‰‹çš„æ³¨æ„è¦ç‚¹ï¼›å¯ä»¥é‡å†™æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥é‡å†™å­—æ®µï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span>\n  name <span class=\"token operator\">=</span> <span class=\"token string\">\"animal\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// (*)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rabbit</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span>\n  name <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbit\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// animal</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Rabbit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// animal</span>\n\n<span class=\"token comment\">// ä¸¤ç§æƒ…å†µä¸‹ï¼šnew Animal() å’Œ new Rabbit()ï¼Œåœ¨ (*) è¡Œçš„ alert éƒ½æ‰“å°äº† animal</span>\n\n<span class=\"token comment\">// æœ‰ç‚¹æ‡µé€¼ï¼Œç”¨æ–¹æ³•æ¥è¿›è¡Œæ¯”è¾ƒï¼š</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// è€Œä¸æ˜¯ this.name = 'animal'</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"animal\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è€Œä¸æ˜¯ alert(this.name);</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rabbit</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rabbit\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// animal</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Rabbit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// rabbit</span>\n\n<span class=\"token comment\">// è¯·æ³¨æ„ï¼šè¿™æ—¶çš„è¾“å‡ºæ˜¯ä¸åŒçš„</span>\n\n<span class=\"token comment\">// è¿™æ‰æ˜¯æœ¬æ¥æ‰€æœŸå¾…çš„ç»“æœã€‚å½“çˆ¶ç±»æ„é€ å™¨åœ¨æ´¾ç”Ÿçš„ç±»ä¸­è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šä½¿ç”¨è¢«é‡å†™çš„æ–¹æ³•ï¼›â€¦â€¦ä½†å¯¹äºç±»å­—æ®µå¹¶éå¦‚æ­¤ã€‚æ­£å¦‚å‰æ–‡æ‰€è¿°ï¼Œçˆ¶ç±»æ„é€ å™¨æ€»æ˜¯ä½¿ç”¨çˆ¶ç±»çš„å­—æ®µ</span></code></pre></div>\n<p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„åŒºåˆ«å‘¢ï¼Ÿ</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">åŸå› åœ¨äºç±»å­—æ®µåˆå§‹åŒ–çš„é¡ºåº:\n\n- å¯¹äºåŸºç±»ï¼ˆè¿˜æœªç»§æ‰¿ä»»ä½•ä¸œè¥¿çš„é‚£ç§ï¼‰ï¼Œåœ¨æ„é€ å‡½æ•°è°ƒç”¨å‰åˆå§‹åŒ–\n\n- å¯¹äºæ´¾ç”Ÿç±»ï¼Œåœ¨ super() åç«‹åˆ»åˆå§‹åŒ–</code></pre></div>\n<p>â€è¿™ç§å­—æ®µä¸æ–¹æ³•ä¹‹é—´å¾®å¦™çš„åŒºåˆ«åªç‰¹å®šäº JavaScript;è¿™ç§è¡Œä¸ºä»…åœ¨ä¸€ä¸ªè¢«é‡å†™çš„å­—æ®µè¢«çˆ¶ç±»æ„é€ å™¨ä½¿ç”¨æ—¶æ‰ä¼šæ˜¾ç°å‡ºæ¥;å¯ä»¥é€šè¿‡ä½¿ç”¨æ–¹æ³•æˆ–è€… getter/setter æ›¿ä»£ç±»å­—æ®µï¼Œæ¥ä¿®å¤è¿™ä¸ªé—®é¢˜â€</p>\n<h3>é™æ€æ–¹æ³•</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">æŠŠä¸€ä¸ªæ–¹æ³•èµ‹å€¼ç»™ç±»çš„å‡½æ•°æœ¬èº«ï¼Œè€Œä¸æ˜¯èµ‹ç»™å®ƒçš„ \"prototype\"\n\n\nè¿™æ ·çš„æ–¹æ³•è¢«ç§°ä¸º é™æ€çš„ï¼ˆstaticï¼‰</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> <span class=\"token function\">staticMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">===</span> User<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nUser<span class=\"token punctuation\">.</span><span class=\"token function\">staticMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token comment\">// å’Œä½œä¸ºå±æ€§èµ‹å€¼çš„ä½œç”¨ç›¸åŒ</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\nUser<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">staticMethod</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">===</span> User<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nUser<span class=\"token punctuation\">.</span><span class=\"token function\">staticMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">é™æ€æ–¹æ³•è¢«ç”¨äºå®ç°å±äºæ•´ä¸ªç±»çš„åŠŸèƒ½;å®ƒä¸å…·ä½“çš„ç±»å®ä¾‹æ— å…³</code></pre></div>\n<h3>é™æ€å±æ€§</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">é™æ€å±æ€§ç±»ä¼¼é™æ€æ–¹æ³•</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Article</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> publisher <span class=\"token operator\">=</span> <span class=\"token string\">\"Levi Ding\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>Article<span class=\"token punctuation\">.</span>publisher<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Levi Ding</span>\n\n<span class=\"token comment\">// ç­‰åŒäºç›´æ¥ç»™ Article èµ‹å€¼ï¼š</span>\n\nArticle<span class=\"token punctuation\">.</span>publisher <span class=\"token operator\">=</span> <span class=\"token string\">\"Levi Ding\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">é™æ€å±æ€§è¢«ç”¨äºæƒ³è¦å­˜å‚¨ç±»çº§åˆ«çš„æ•°æ®æ—¶ï¼Œè€Œä¸æ˜¯ç»‘å®šåˆ°å®ä¾‹</code></pre></div>\n<h3>ç»§æ‰¿é™æ€å±æ€§å’Œæ–¹æ³•</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- é™æ€å±æ€§å’Œæ–¹æ³•æ˜¯å¯è¢«ç»§æ‰¿çš„\n\n- ç»§æ‰¿å¯¹å¸¸è§„æ–¹æ³•å’Œé™æ€æ–¹æ³•éƒ½æœ‰æ•ˆ</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">static</span> planet <span class=\"token operator\">=</span> <span class=\"token string\">\"Earth\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> speed</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>speed <span class=\"token operator\">=</span> speed<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">speed <span class=\"token operator\">=</span> <span class=\"token number\">0</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>speed <span class=\"token operator\">+=</span> speed<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> runs with speed </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>speed<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token function\">compare</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">animalA<span class=\"token punctuation\">,</span> animalB</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> animalA<span class=\"token punctuation\">.</span>speed <span class=\"token operator\">-</span> animalB<span class=\"token punctuation\">.</span>speed<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ç»§æ‰¿äº Animal</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rabbit</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> hides!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> rabbits <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Rabbit</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"White Rabbit\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Rabbit</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Black Rabbit\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\nrabbits<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span>Rabbit<span class=\"token punctuation\">.</span>compare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nrabbits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Black Rabbit runs with speed 5.</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>Rabbit<span class=\"token punctuation\">.</span>planet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Earth</span></code></pre></div>\n<p>å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå†æ¬¡ï¼Œä½¿ç”¨åŸå‹ ğŸ˜±ã€‚extends è®© Rabbit çš„ [[Prototype]] æŒ‡å‘äº† Animal</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Rabbit extends Animal åˆ›å»ºäº†ä¸¤ä¸ª [[Prototype]] å¼•ç”¨ï¼š\n\n- 1. Rabbit å‡½æ•°åŸå‹ç»§æ‰¿è‡ª Animal å‡½æ•°\n\n- 2. Rabbit.prototype åŸå‹ç»§æ‰¿è‡ª Animal.prototype</code></pre></div>\n<p>æ ¡éªŒ</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rabbit</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Animal</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// å¯¹äºé™æ€çš„</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>Rabbit<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">===</span> Animal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token comment\">// å¯¹äºå¸¸è§„æ–¹æ³•</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Rabbit</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">===</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<h2>Babel ç¼–è¯‘</h2>\n<p>ä¹‹å‰å·²ç»å¯¹ <a href=\"https://www.shanejix.com/posts/Vanilla%20JavaScript%20Inherited/\">ES5 ä¸­ç»§æ‰¿</a> æœ‰äº†æ·±å…¥çš„äº†è§£ï¼ŒTypescriptã€ES6 çš„ä»£ç ä¼šè¢«ç¼–è¯‘æˆä»€ä¹ˆæ ·å­å‘¢ï¼Ÿå¯ä»¥åœ¨ Babel å®˜ç½‘çš„<a href=\"https://babeljs.io/repl/#?babili=false&#x26;evaluate=true&#x26;lineWrap=false&#x26;presets=es2015%2Creact%2Cstage-2&#x26;targets=&#x26;browsers=&#x26;builtIns=false&#x26;debug=false&#x26;code_lz=Q\">Try it out</a>é¡µé¢æŸ¥çœ‹</p>\n<p>es6</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç¼–è¯‘å</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">instance<span class=\"token punctuation\">,</span> Constructor</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">_instanceof</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">,</span> Constructor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot call a class as a function\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> Person <span class=\"token operator\">=</span> <span class=\"token comment\">/*#__PURE__*/</span> <span class=\"token function\">_createClass</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> Person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>_classCallCheck çš„ä½œç”¨æ˜¯æ£€æŸ¥ Person æ˜¯å¦æ˜¯é€šè¿‡ new çš„æ–¹å¼è°ƒç”¨ï¼Œç±»å¿…é¡»ä½¿ç”¨ new è°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚å½“ä½¿ç”¨ var person = Person() çš„å½¢å¼è°ƒç”¨çš„æ—¶å€™ï¼Œthis æŒ‡å‘ windowï¼Œæ‰€ä»¥ instance instanceof Constructor å°±ä¼šä¸º false</p>\n<p>è¿™ä¹Ÿç‰‡é¢çš„è¯´æ˜ class ä¸ä»…ä»…æ˜¯ åŸå‹ç»§æ‰¿çš„è¯­æ³•ç³–</p>\n<p>es6</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello, I am \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token function\">onlySayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">get</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"shane\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">set</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"new name ä¸ºï¼š\"</span> <span class=\"token operator\">+</span> newName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç¼–è¯‘å</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> _createClass <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">defineProperties</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> props<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> descriptor <span class=\"token operator\">=</span> props<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      descriptor<span class=\"token punctuation\">.</span>enumerable <span class=\"token operator\">=</span> descriptor<span class=\"token punctuation\">.</span>enumerable <span class=\"token operator\">||</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n      descriptor<span class=\"token punctuation\">.</span>configurable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"value\"</span> <span class=\"token keyword\">in</span> descriptor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        descriptor<span class=\"token punctuation\">.</span>writable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">,</span> descriptor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">Constructor<span class=\"token punctuation\">,</span> protoProps<span class=\"token punctuation\">,</span> staticProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>protoProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">defineProperties</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> protoProps<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>staticProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">defineProperties</span><span class=\"token punctuation\">(</span>Constructor<span class=\"token punctuation\">,</span> staticProps<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> Constructor<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">instance<span class=\"token punctuation\">,</span> Constructor</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>instance <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot call a class as a function\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> Person <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> Person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">_createClass</span><span class=\"token punctuation\">(</span>\n    Person<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        key<span class=\"token operator\">:</span> <span class=\"token string\">\"sayHello\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">value</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">sayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello, I am \"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        key<span class=\"token operator\">:</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token string\">\"kevin\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"new name ä¸ºï¼š\"</span> <span class=\"token operator\">+</span> newName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        key<span class=\"token operator\">:</span> <span class=\"token string\">\"onlySayHello\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">value</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token function\">onlySayHello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> Person<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>es6</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Parent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Child</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Parent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> age</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> child1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Child</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"kevin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"18\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>child1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ç¼–è¯‘å</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_possibleConstructorReturn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">self<span class=\"token punctuation\">,</span> call</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>self<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReferenceError</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"this hasn't been initialised - super() hasn't been called\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> call <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> call <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">typeof</span> call <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">?</span> call\n    <span class=\"token operator\">:</span> self<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_inherits</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">subClass<span class=\"token punctuation\">,</span> superClass</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> superClass <span class=\"token operator\">!==</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">&amp;&amp;</span> superClass <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"Super expression must either be null or a function, not \"</span> <span class=\"token operator\">+</span>\n        <span class=\"token keyword\">typeof</span> superClass\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  subClass<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>superClass <span class=\"token operator\">&amp;&amp;</span> superClass<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    constructor<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      value<span class=\"token operator\">:</span> subClass<span class=\"token punctuation\">,</span>\n      enumerable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      writable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      configurable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>superClass<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Object<span class=\"token punctuation\">.</span>setPrototypeOf\n      <span class=\"token operator\">?</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>subClass<span class=\"token punctuation\">,</span> superClass<span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>subClass<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">=</span> superClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">instance<span class=\"token punctuation\">,</span> Constructor</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>instance <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Constructor</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot call a class as a function\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">Parent</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Parent</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> Parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> Child <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_Parent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">_inherits</span><span class=\"token punctuation\">(</span>Child<span class=\"token punctuation\">,</span> _Parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> age</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> Child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// è°ƒç”¨çˆ¶ç±»çš„ constructor(name)</span>\n    <span class=\"token keyword\">var</span> _this <span class=\"token operator\">=</span> <span class=\"token function\">_possibleConstructorReturn</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span>Child<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">||</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span>Child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    _this<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> _this<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> Child<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> child1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Child</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"kevin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"18\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>child1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>_inherits</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">_inherits</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">subClass<span class=\"token punctuation\">,</span> superClass</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// extend çš„ç»§æ‰¿ç›®æ ‡å¿…é¡»æ˜¯å‡½æ•°æˆ–è€…æ˜¯ null</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> superClass <span class=\"token operator\">!==</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">&amp;&amp;</span> superClass <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"Super expression must either be null or a function, not \"</span> <span class=\"token operator\">+</span>\n        <span class=\"token keyword\">typeof</span> superClass\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ç±»ä¼¼äº ES5 çš„å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œ</span>\n  <span class=\"token comment\">// ä½¿ç”¨ Object.createï¼Œè®¾ç½®å­ç±» prototype å±æ€§çš„ __proto__ å±æ€§æŒ‡å‘çˆ¶ç±»çš„ prototype å±æ€§</span>\n  <span class=\"token comment\">// å¹¶ç»™å­ç±»æ·»åŠ ä¸€ä¸ªå¯é…ç½®å¯å†™ä¸å¯æšä¸¾çš„ constructor å±æ€§ï¼Œè¯¥å±æ€§å€¼ä¸º subClass</span>\n  subClass<span class=\"token punctuation\">.</span>prototype <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>superClass <span class=\"token operator\">&amp;&amp;</span> superClass<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    constructor<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      value<span class=\"token operator\">:</span> subClass<span class=\"token punctuation\">,</span>\n      enumerable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n      writable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      configurable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// è®¾ç½®å­ç±»çš„ __proto__ å±æ€§æŒ‡å‘çˆ¶ç±»</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>superClass<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Object<span class=\"token punctuation\">.</span>setPrototypeOf\n      <span class=\"token operator\">?</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">setPrototypeOf</span><span class=\"token punctuation\">(</span>subClass<span class=\"token punctuation\">,</span> superClass<span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>subClass<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">=</span> superClass<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Object.create() çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¦æ·»åŠ åˆ°æ–°åˆ›å»ºå¯¹è±¡çš„å±æ€§</p>\n<h3>_possibleConstructorReturn</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">_possibleConstructorReturn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">self<span class=\"token punctuation\">,</span> call</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>self<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReferenceError</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"this hasn't been initialised - super() hasn't been called\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> call <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> call <span class=\"token operator\">===</span> <span class=\"token string\">\"object\"</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">typeof</span> call <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">?</span> call\n    <span class=\"token operator\">:</span> self<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¸ºå•¥è¦åˆ¤æ–­ parent return å‘¢ï¼Ÿ å› ä¸º åœ¨ constructor å‡½æ•°ä¸­å¯ä»¥ return ä¾‹å¦‚ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Parent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>xxx <span class=\"token operator\">=</span> xxx<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// æ²¡æœ‰æ˜¾ç¤ºçš„ return é»˜è®¤ return undefined</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Parent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// å¯ä»¥ return å„ç§ç±»å‹ æ¯”å¦‚ null</span></code></pre></div>\n<p>æ€»ä½“å®ç°</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> Child <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_Parent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">_inherits</span><span class=\"token punctuation\">(</span>Child<span class=\"token punctuation\">,</span> _Parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> age</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_classCallCheck</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> Child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">var</span> _this <span class=\"token operator\">=</span> <span class=\"token function\">_possibleConstructorReturn</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">(</span>Child<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">||</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">getPrototypeOf</span><span class=\"token punctuation\">(</span>Child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    _this<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> _this<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> Child<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>Parent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol>\n<li>é¦–å…ˆæ‰§è¡Œ _inherits(Child, Parent)ï¼Œå»ºç«‹ Child å’Œ Parent çš„åŸå‹é“¾å…³ç³»ï¼Œå³ <strong>Object.setPrototypeOf(Child.prototype, Parent.prototype) å’Œ Object.setPrototypeOf(Child, Parent)</strong></li>\n<li>ç„¶åè°ƒç”¨ Parent.call(this, name)ï¼Œæ ¹æ® Parent æ„é€ å‡½æ•°çš„è¿”å›å€¼ç±»å‹ç¡®å®šå­ç±»æ„é€ å‡½æ•° this çš„åˆå§‹å€¼ _this</li>\n<li>æœ€ç»ˆï¼Œæ ¹æ®å­ç±»æ„é€ å‡½æ•°ï¼Œä¿®æ”¹ _this çš„å€¼ï¼Œç„¶åè¿”å›è¯¥å€¼</li>\n</ol>\n<h2>references</h2>\n<ul>\n<li><a href=\"https://zh.javascript.info/classes\">https://zh.javascript.info/classes</a></li>\n<li><a href=\"https://www.shanejix.com/posts/%E7%8E%B0%E4%BB%A3%20JavaScript%20%E6%95%99%E7%A8%8B%20%E2%80%94%20JavaScript%20%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%AF%87/\">https://www.shanejix.com/posts/%E7%8E%B0%E4%BB%A3%20JavaScript%20%E6%95%99%E7%A8%8B%20%E2%80%94%20JavaScript%20%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%AF%87/</a></li>\n<li><a href=\"https://www.cnblogs.com/shanejix/p/15220858.html#class-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95\">https://www.cnblogs.com/shanejix/p/15220858.html#class-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95</a></li>\n<li><a href=\"https://www.cnblogs.com/shanejix/p/15220858.html#%E7%B1%BB%E7%BB%A7%E6%89%BF\">https://www.cnblogs.com/shanejix/p/15220858.html#%E7%B1%BB%E7%BB%A7%E6%89%BF</a></li>\n<li><a href=\"https://www.cnblogs.com/shanejix/p/15220858.html#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7%E5%92%8C%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95\">https://www.cnblogs.com/shanejix/p/15220858.html#%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7%E5%92%8C%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95</a></li>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/105\">https://github.com/mqyqingfeng/Blog/issues/105</a></li>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/106\">https://github.com/mqyqingfeng/Blog/issues/106</a></li>\n<li><a href=\"https://babeljs.io/repl/#?browsers=&#x26;build=&#x26;builtIns=false&#x26;corejs=3.21&#x26;spec=false&#x26;loose=false&#x26;code_lz=Q&#x26;debug=false&#x26;forceAllTransforms=false&#x26;shippedProposals=false&#x26;circleciRepo=&#x26;evaluate=true&#x26;fileSize=false&#x26;timeTravel=false&#x26;sourceType=module&#x26;lineWrap=false&#x26;presets=es2015&#x26;prettier=false&#x26;targets=&#x26;version=7.17.6&#x26;externalPlugins=&#x26;assumptions=%7B%7D\">https://babeljs.io/repl/#?browsers=&#x26;build=&#x26;builtIns=false&#x26;corejs=3.21&#x26;spec=false&#x26;loose=false&#x26;code_lz=Q&#x26;debug=false&#x26;forceAllTransforms=false&#x26;shippedProposals=false&#x26;circleciRepo=&#x26;evaluate=true&#x26;fileSize=false&#x26;timeTravel=false&#x26;sourceType=module&#x26;lineWrap=false&#x26;presets=es2015&#x26;prettier=false&#x26;targets=&#x26;version=7.17.6&#x26;externalPlugins=&#x26;assumptions=%7B%7D</a></li>\n</ul>\n<blockquote>\n<p>ä½œè€…ï¼š<a href=\"https://www.shanejix.com/\">shanejix</a>\nå‡ºå¤„ï¼š<a href=\"https://www.shanejix.com/posts/TypeScript%20-%20ES6%20%E4%B8%AD%E7%9A%84%20Class%20%E7%BB%A7%E6%89%BF/\">https://www.shanejix.com/posts/TypeScript - ES6 ä¸­çš„ Class ç»§æ‰¿/</a>\nç‰ˆæƒï¼šæœ¬ä½œå“é‡‡ç”¨<a href=\"http://creativecommons.org/licenses/by-nc-nd/4.0/\">ã€Œç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…ã€</a>è®¸å¯åè®®è¿›è¡Œè®¸å¯ã€‚\nå£°æ˜ï¼šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>","frontmatter":{"title":"TypeScript - ES6 ä¸­çš„ Class ç»§æ‰¿","date":"November 13, 2021","update":"April 12, 2022","url":"https://github.com/shanejix/shanejix.github.io/issues/80"}}},"pageContext":{"slug":"/TypeScript - ES6 ä¸­çš„ Class ç»§æ‰¿/","previous":{"fields":{"slug":"/æµ…æï¼šç°ä»£ Web å¼€å‘å›°å±€/"},"frontmatter":{"title":"æµ…æï¼šç°ä»£ Web å¼€å‘å›°å±€","tags":["Web"]}},"next":{"fields":{"slug":"/npm ERR! 404 Not Found - Scope not found/"},"frontmatter":{"title":"npm ERR! 404 Not Found - Scope not found","tags":["Bug"]}}}},"staticQueryHashes":["3159585216","63159454"]}